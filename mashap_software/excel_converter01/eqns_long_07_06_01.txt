__pts_x_0 = array([__x for __x,__y in table_eff_of_carb_sufficiency_on_carbox])
__pts_x_1 = array([__x for __x,__y in table_eff_of_possible_fatox])
__pts_y_0 = array([__y for __x,__y in table_eff_of_carb_sufficiency_on_carbox])
__pts_y_1 = array([__y for __x,__y in table_eff_of_possible_fatox])
activ_time=activ_time_data  if (read_from_data == 1.0) else (activ_time_param )
activ_time_data
activ_time_param=0.0
activity_efficiency=1.0 + thermogenesis_effect_on_pae_vs_rmr * adaptive_thermogenesis
activity_energy_per_body_weight=baseline_activity_energy_per_body_weight * ( 1.0 - 0.652218 * activ_time )
activity_energy_spent_per_body_weight=activity_energy_per_body_weight * activity_efficiency
actual_carbox=desired_carbox / cal_dens_c * eff_of_carb_sufficiency_on_carbox
actual_fatox=desired_fatox / cal_dens_f * eff_of_possible_fatox
actual_protox=min( desired_protox / cal_dens_p,  protein / time_step )
aminoacid_mass=110.0
basal_rmr_efficiency=1.0 + ( 1.0 - thermogenesis_effect_on_pae_vs_rmr ) * adaptive_thermogenesis
basal_rmr_of_lean_tissues=baseline_basal_rmr_of_lean_tissues * basal_rmr_efficiency
base_bone_mass=0.04 * baseline_bodyweight
base_carb=400.0
base_deg_c=180.0
base_gng_p=100.0
base_molar_lipolysis=0.16
base_rmr_brain=0.24
base_rmr_fat=0.0045
baseline_activity_energy_per_body_weight=pae_b / baseline_bodyweight
baseline_basal_rmr_of_lean_tissues=0.0239374
baseline_bodyweight=85000.0
baseline_carbohydrate_intake=ci_0
baseline_ecw=fw * fetw * baseline_bodyweight
baseline_fat=baseline_bodyweight - baseline_lean_mass
baseline_fat_intake=fi_0
baseline_gng_fat_endog=base_molar_lipolysis * mass_of_glycerol * cal_dens_c
baseline_lean_mass=base_bone_mass + baseline_ecw + cell_mass_b
baseline_metabolizable_energy_intake=baseline_carbohydrate_intake + baseline_fat_intake +baseline_protein_intake
baseline_protein=cell_mass_b - icw_b - intracel_solids - base_carb
baseline_protein_intake=pi_0
baseline_proteolysis=molar_baseline_proteolysis * aminoacid_mass
body_weight=fat + lean_tissues
c_init=base_carb
cal_dens_c=4.18
cal_dens_f=9.44
cal_dens_p=4.7
carb_sufficiency=carb * cal_dens_c / desired_carbox
carb_term=eff_of_glycogenolysis_on_carb_oxidation + max( 0.0 , eff_of_carb_intake_on_carb_oxidation * ( carb / (0.1 + carb) )  )
carbohydrate_intake=carbohydrate_intake_data  if (read_from_data == 1.0) else (ci_input )
carbohydrate_intake_data
cell_mass=intracel_solids + carb + protein + intracel_water
cell_mass_b=1.0/fwcm * icw_b
change_in_carbohydrate_intake=carbohydrate_intake - baseline_carbohydrate_intake
change_in_protein_intake=protein_intake - baseline_protein_intake
ci  = carbohydrate_intake / cal_dens_c
ci_0=1500.0
ci_input=1500.0
ciw=fiew * baseline_ecw - ( glycogen_hydration_coefficient * c_init + protein_hydration_coefficient * p_init)
deg_cost_p=0.172727
delay_in_adaptive_thermogenesis=7.0
dep_cost_c=0.211111
dep_cost_fat=0.176744
dep_cost_p=0.863636
desired_carbox=frac_carbox * shared_energy_expenditure + gng_fat + gng_protein
desired_fatox=frac_fatox * shared_energy_expenditure
desired_protox=frac_protox * shared_energy_expenditure
df_b=base_molar_lipolysis * mass_tg
diff_bw_ox_and_tee=0.0 if (total_ox - total_energy_expenditure < 0.1) else (total_ox - total_energy_expenditure )
dnl=ci * effect_of_glycogen_on_dnl * cal_dens_c
dnl_b=ci_0 * eff_c_dnl_b
dnl_i=dnl / cal_dens_f
dnl_out=min( dnl / cal_dens_c , carb / time_step )
ec=baseline_metabolizable_energy_intake - (tef_b + pae_b + rmr_b )
eff_c_dnl_b=1.0 / ( k_dnl ** hill_dnl + 1.0 )
eff_ci_on_gng_p=0.506 * normalized_change_in_carbohydrate_intake
eff_of_carb_intake_on_carb_oxidation=weighting_of_oxidation_for_basal_ci * ( 1.0 + sensitivity_of_oxidation_to_ci_changes * normalized_change_in_carbohydrate_intake )
eff_of_carb_sufficiency_on_carbox = numpy.interp(carb_sufficiency/oneday, __pts_x_0, __pts_y_0)
eff_of_glycogenolysis_on_carb_oxidation=weighting_of_oxidation_for_glycogenolysis * normalized_glycogenolysis
eff_of_physical_activity_on_prot_oxidation=sensitivity_to_physical_activity * exp( - log(sensitivity_to_physical_activity) * normalized_activity_energy_per_body_weight )
eff_of_possible_fatox = numpy.interp(possible_fatox / desired_fatox, __pts_x_1, __pts_y_1)
eff_of_prot_intake_on_prot_oxidation=weighting_of_oxidation_for_basal_pi * ( 1.0 + sensitivity_of_oxidation_to_pi_changes * normalized_change_in_protein_intake )
eff_pi_on_gng_p=0.306 * normalized_change_in_protein_intake
effect_of_carb_intake_on_lipolysis=1.0 + ( ( lipol_max - lipol_min )  * exp( -k_lip * ci * cal_dens_c / baseline_carbohydrate_intake )+ lipol_min - 1.0 )/ max( 1.0 , effect_of_obesity_on_lipolysis )
effect_of_glycogen_on_dnl=normalized_glycogen_ratio ** hill_dnl / ( k_dnl ** hill_dnl + normalized_glycogen_ratio ** hill_dnl )
effect_of_metabolizable_energy_intake_on_thermogenesis=( metabolizable_energy_intake - baseline_metabolizable_energy_intake ) / baseline_metabolizable_energy_intake
effect_of_obesity_on_lipolysis=(fat / baseline_fat)**(2.0/3.0)
efficiency_dnl=0.8
efficiency_gng=0.8
exog_glycerol_per_kcal_fat_intake=mass_of_glycerol / ( cal_dens_f * mass_tg )
extracel_water=baseline_ecw
f_init=baseline_fat
fat_intake=fat_intake_data  if (read_from_data == 1.0) else (fi_input )
fat_intake_data
fat_term=max( 0.0 , weighting_of_oxidation_for_lipolysis * normalized_lipolysis_rate)
fetw=3.0/8.0
fi=fat_intake / cal_dens_f
fi_0=1000.0
fi_input=1000.0
fiew=(1.0-fetw)/fetw
frac_carbox=carb_term / z
frac_fatox=fat_term / z
frac_protox=prot_term / z
fw=7.0/10.0
fwcm=7.0/10.0
gap_carbox=desired_carbox - actual_carbox * cal_dens_c
gap_fatox=desired_fatox - actual_fatox * cal_dens_f
gap_total=gap_carbox + gap_fatox
glycogen_hydration_coefficient=2.7
glycogenolysis=base_deg_c * carb / base_carb
gng_fat=gng_fat_endog + gng_fat_exog
gng_fat_endog=baseline_gng_fat_endog * normalized_lipolysis_rate
gng_fat_exog=exog_glycerol_per_kcal_fat_intake * fat_intake * cal_dens_c
gng_fat_in=gng_fat / cal_dens_c
gng_fat_out=min( gng_fat / cal_dens_f , fat / time_step )
gng_protein=max( 0.0 , base_gng_p * ( norm_p_ratio - eff_ci_on_gng_p + eff_pi_on_gng_p ) )
gng_protein_out=min( max( 0.0 , gng_protein / cal_dens_p), protein / time_step )
gngf_b=baseline_gng_fat_endog + gngf_ex_b
gngf_ex_b=exog_glycerol_per_kcal_fat_intake * fi_0 * cal_dens_c
gngp_i=gng_protein / cal_dens_c
hill_dnl=4.0
icw_b=fiew * baseline_ecw
intracel_solids=3967.28
intracel_water=glycogen_hydration_coefficient * carb + protein_hydration_coefficient * protein + ciw
is_sufficient_carb=1.0 if (gap_carbox < 0.1 ) else (0.0 )
is_sufficient_fat=1.0  if (gap_fatox < 0.1 ) else (0.0 )
k_dnl=2.0
k_lip=log( ( lipol_max - lipol_min ) /( 1.0 - lipol_min ))
kc=( ci_0 - dnl_b ) / see_b
kf=( fi_0 + dnl_b - gngf_b ) / see_b
kp=( pi_0 - base_gng_p ) / see_b
lean_tissues=base_bone_mass + extracel_water + cell_mass
lipol_max=3.1
lipol_min=0.9
lipolysis=base_molar_lipolysis * normalized_lipolysis_rate * mass_tg
mass_brain=1400.0
mass_ffa=( cal_dens_f * mass_tg - cal_dens_c * mass_of_glycerol ) / ( 3.0 * cal_dens_f)
mass_of_glycerol=92.0
mass_tg=860.0
mbc_b=mbc_lean_b + mbc_brain + mbc_fat
mbc_brain=base_rmr_brain * mass_brain
mbc_fat=base_rmr_fat * baseline_fat
mbc_lean=basal_rmr_of_lean_tissues * ( cell_mass_b - mass_brain )
mbc_lean_b=baseline_basal_rmr_of_lean_tissues * ( cell_mass_b - mass_brain )
mc_b=( 1.0 - efficiency_dnl ) * dnl_b + ( 1.0- efficiency_gng ) * ( gngf_b + base_gng_p )
metabolism_of_body_cells=mbc_lean + mbc_brain + mbc_fat
metabolism_of_conversions=( 1.0 - efficiency_dnl ) * dnl + ( 1.0- efficiency_gng ) * ( gng_fat + gng_protein )
metabolism_of_turnovers=( deg_cost_p + dep_cost_p ) * proteolysis +dep_cost_fat * lipolysis +dep_cost_c * glycogenolysis
metabolizable_energy_intake=carbohydrate_intake + fat_intake + protein_intake
molar_baseline_proteolysis=2.73
molar_caloric_dens_glycerol=cal_dens_c * mass_of_glycerol
molar_caloric_dens_tg=cal_dens_f * mass_tg
mt_b=( deg_cost_p + dep_cost_p ) * baseline_proteolysis +dep_cost_fat * df_b +dep_cost_c * base_deg_c
norm_p_ratio=protein / baseline_protein
normalized_activity_energy_per_body_weight=activity_energy_per_body_weight / baseline_activity_energy_per_body_weight
normalized_change_in_carbohydrate_intake=change_in_carbohydrate_intake / baseline_carbohydrate_intake
normalized_change_in_protein_intake=change_in_protein_intake / baseline_protein_intake
normalized_glycogen_ratio=carb / base_carb
normalized_glycogenolysis=glycogenolysis / base_deg_c
normalized_lipolysis_rate=effect_of_carb_intake_on_lipolysis * effect_of_obesity_on_lipolysis
normalized_proteolysis=proteolysis / baseline_proteolysis
oneday=1.0
p_init=baseline_protein
pae_b=baseline_metabolizable_energy_intake - tef_b - rmr_b
physical_activity_energy=activity_energy_spent_per_body_weight * body_weight
pi  = protein_intake / cal_dens_p
pi_0=500.0
pi_input=500.0
possible_fatox=fat / time_step * cal_dens_f
pri_carbox_kcal=actual_carbox * cal_dens_c
pri_fatox_kcal=actual_fatox * cal_dens_f
pri_protox_kcal=actual_protox * cal_dens_p
prot_term=( normalized_proteolysis + max( 0.0, eff_of_prot_intake_on_prot_oxidation )  ) * eff_of_physical_activity_on_prot_oxidation
protein_fraction_of_cell_mass=0.2
protein_hydration_coefficient=2.0
protein_intake=protein_intake_data  if (read_from_data == 1.0) else (pi_input )
protein_intake_data
proteolysis=baseline_proteolysis * protein / baseline_protein
read_from_data=0.0
resting_metabolic_rate=metabolism_of_body_cells + metabolism_of_turnovers + metabolism_of_conversions + ec
rmr_b=mbc_b + mt_b + mc_b
sec_carbox=sec_frac_carb * gap_total / cal_dens_c
sec_carbox_kcal=sec_carbox * cal_dens_c
sec_fatox=sec_frac_fat * gap_total / cal_dens_f
sec_fatox_kcal=sec_fatox * cal_dens_f
sec_frac_carb=is_sufficient_carb * carb_term / y
sec_frac_fat=is_sufficient_fat * fat_term / y
sec_frac_prot=prot_term / y
sec_protox=min( sec_frac_prot * gap_total / cal_dens_p,  protein / time_step )
sec_protox_kcal=sec_protox * cal_dens_p
see_b=tee_b - base_gng_p - gngf_b
sensitivity_of_oxidation_to_ci_changes=0.761188
sensitivity_of_oxidation_to_pi_changes=15.0253
sensitivity_to_physical_activity=4.0
shared_energy_expenditure=total_energy_expenditure - gng_protein - gng_fat
table_eff_of_carb_sufficiency_on_carbox = [(0.0,0.0),(0.1,0.6),(0.2,0.85),(0.3,0.95),(0.4,1.0),(1.0,1.0)]
table_eff_of_possible_fatox = [(0.0,0.0),(0.4,0.4),(0.798165,0.627193),(1.30275,0.824561),(2.0,0.95),(3.0,1.0)]
tee_b=baseline_metabolizable_energy_intake
tef_b=tef_c * baseline_carbohydrate_intake + tef_f * baseline_fat_intake + tef_p * baseline_protein_intake
tef_c=0.075
tef_f=0.025
tef_p=0.25
therm_const=0.8
thermic_effect_of_food=tef_c * cal_dens_c * ci + tef_f * fat_intake + tef_p * cal_dens_p * pi
thermogenesis_adaptation=( therm_const * effect_of_metabolizable_energy_intake_on_thermogenesis - adaptive_thermogenesis ) / delay_in_adaptive_thermogenesis
thermogenesis_effect_on_pae_vs_rmr=0.52
total_energy_expenditure=physical_activity_energy + resting_metabolic_rate + thermic_effect_of_food
total_ox=total_pri_ox + total_sec_ox
total_pri_ox=pri_carbox_kcal + pri_fatox_kcal + pri_protox_kcal
total_sec_ox=sec_carbox_kcal + sec_fatox_kcal + sec_protox_kcal
weighting_of_oxidation_for_basal_ci=3.31414
weighting_of_oxidation_for_basal_pi=0.1
weighting_of_oxidation_for_glycogenolysis=kc / kp * ( 1.0 + weighting_of_oxidation_for_basal_pi )- weighting_of_oxidation_for_basal_ci
weighting_of_oxidation_for_lipolysis=(1.0 + weighting_of_oxidation_for_basal_pi) * kf / kp
y=prot_term + is_sufficient_carb * carb_term + is_sufficient_fat * fat_term
z=carb_term + fat_term +prot_term
z_check_0=1.0+weighting_of_oxidation_for_basal_pi+weighting_of_oxidation_for_basal_ci+weighting_of_oxidation_for_glycogenolysis+weighting_of_oxidation_for_lipolysis
z_check_1=weighting_of_oxidation_for_lipolysis/kf